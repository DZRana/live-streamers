(this["webpackJsonplive-streamers"]=this["webpackJsonplive-streamers"]||[]).push([[0],{32:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(25),s=n.n(a),c=(n(32),n(5)),i=n.n(c),l=n(9),o=n(11),u=n(13),h=n(77),d=n(12),m=n(1),j=function(e){var t=e.user_name,n=e.title,r=e.viewer_count,a=e.url,s=e.profile_image_url,c=e.changeChannel;return Object(m.jsxs)("div",{className:"flex flex-row mb-2 border-double border-4 rounded border-purple-400",onClick:function(){return c(a)},children:[Object(m.jsxs)("div",{className:"flex-col",children:[Object(m.jsx)("img",{className:"sm:m-auto sm:w-52 md:w-36",src:s,alt:"Streamer"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"text-red-500",children:t}),Object(m.jsx)("div",{className:"text-purple-400",children:"Viewers: ".concat(r)})]})]}),Object(m.jsx)("div",{className:"w-full px-5 m-auto text-yellow-500 md:text-xl overflow-ellipsis overflow-hidden",children:n})]})},f=function(e){var t=e.streamerArr,n=e.changeChannel;return Object(m.jsx)(h.a,{as:"nav",className:"bg-gray-800",children:function(e){var r=e.open;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"mx-auto px-2 md:px-6 lg:px-8",children:Object(m.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center",children:Object(m.jsxs)(h.a.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[Object(m.jsx)("span",{className:"sr-only",children:"Open main menu"}),r?Object(m.jsx)(d.b,{className:"block h-6 w-6","aria-hidden":"true"}):Object(m.jsx)(d.a,{className:"block h-6 w-6","aria-hidden":"true"})]})}),Object(m.jsx)("div",{className:"flex-1 flex items-center justify-center md:items-stretch",children:Object(m.jsx)("div",{className:"flex-shrink-0 flex items-center",children:Object(m.jsx)("span",{className:"text-white font-bold",children:"Live Streamers"})})})]})}),Object(m.jsx)(h.a.Panel,{children:Object(m.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1 flex flex-col",children:t.map((function(e,r){return Object(m.jsx)(h.a.Button,{as:"button",children:Object(m.jsx)(j,{user_name:t[r].user_name,title:t[r].title,viewer_count:t[r].viewer_count,url:"https://www.twitch.tv/".concat(t[r].user_name.toLowerCase()),profile_image_url:t[r].profile_image_url,changeChannel:n},t[r].id)})}))})})]})}})},x=function(e){var t=e.streamerArr,n=e.changeChannel;return Object(m.jsx)("ul",{children:t.map((function(e,r){return Object(m.jsx)(j,{user_name:t[r].user_name,title:t[r].title,viewer_count:t[r].viewer_count,url:"https://www.twitch.tv/".concat(t[r].user_name.toLowerCase()),profile_image_url:t[r].profile_image_url,changeChannel:n},t[r].id)}))})},b=n(26),p=n.n(b),w=n(27),v=n.n(w),g="Bearer ".concat(document.location.hash.substring(14,44)),O=v.a.create({baseURL:"https://api.twitch.tv/helix",headers:{Authorization:g,"Client-ID":"4pa4htam4huynxlz1hbq15jnrs7clq"}}),_=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),c=Object(u.a)(s,2),h=c[0],d=c[1],j=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,r,s,c,u,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n=[],e.next=4,O.get("/users");case 4:return r=e.sent,t=r.data.data[0].id,e.next=8,O.get("/users/follows",{params:{from_id:t,first:100}});case 8:r=e.sent,s=Object(l.a)(r.data.data);try{for(s.s();!(c=s.n()).done;)u=c.value,n.push(u.to_id)}catch(d){s.e(d)}finally{s.f()}h=function(){var e=Object(o.a)(i.a.mark((function e(){var t,s,c,o,u,m,j,f,x,b,p,w,v,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t="/streams?user_id=",s=0;s<n.length;s++)s!==n.length-1?t+="".concat(n[s],"&user_id="):t+=n[s];return e.next=4,O.get(t);case 4:r=e.sent,c=[],o=Object(l.a)(r.data.data);try{for(o.s();!(u=o.n()).done;)m=u.value,(j={}).id=m.id,j.user_name=m.user_name,j.title=m.title,j.viewer_count=m.viewer_count,c.push(j)}catch(d){o.e(d)}finally{o.f()}for(t="/users?login=",f=0;f<c.length;f++)f!==c.length-1?t+="".concat(c[f].user_name,"&login="):t+=c[f].user_name;return e.next=12,O.get(t);case 12:for(r=e.sent,x=0,b=c;x<b.length;x++){p=b[x],w=Object(l.a)(r.data.data);try{for(w.s();!(v=w.n()).done;)g=v.value,p.user_name.toLowerCase()===g.login&&(p.profile_image_url=g.profile_image_url)}catch(d){w.e(d)}finally{w.f()}}a(c),setTimeout(h,12e3);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e){d(e)};return Object(r.useEffect)((function(){j()}),[]),""===document.location.hash?Object(m.jsx)("div",{className:"flex h-screen",children:Object(m.jsx)("span",{className:"m-auto",children:Object(m.jsx)("a",{className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",href:"https://id.twitch.tv/oauth2/authorize?client_id=".concat("4pa4htam4huynxlz1hbq15jnrs7clq","&redirect_uri=").concat("https://dzrana.github.io/live-streamers/","&response_type=token&scope=channel_feed_read"),children:"Login"})})}):0===n.length?Object(m.jsx)("div",{className:"flex h-screen",children:Object(m.jsx)("span",{className:"m-auto text-white font-bold",children:"LOADING"})}):Object(m.jsxs)("div",{className:"h-screen w-screen",children:[Object(m.jsx)(f,{streamerArr:n,changeChannel:b}),Object(m.jsx)("div",{className:"hidden",children:Object(m.jsx)(x,{streamerArr:n,changeChannel:b})}),Object(m.jsxs)("div",{className:"flex flex-col w-screen h-screen sm:flex-row",children:[Object(m.jsx)("div",{className:"w-full h-2/3 sm:w-2/3 sm:h-full lg:w-4/5",children:Object(m.jsx)(p.a,{url:h,controls:!0,playing:!0,width:"100%",height:"100%"})}),Object(m.jsx)("div",{className:"w-full h-1/3 sm:w-1/3 sm:h-full lg:w-1/5",children:h&&Object(m.jsx)("iframe",{title:"chat",frameBorder:"0",scrolling:"yes",id:"chat_embed",src:"https://www.twitch.tv/embed/".concat(h.substring(22),"/chat?parent=").concat("dzrana.github.io","&darkpopout"),width:"100%",height:"100%"})})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(m.jsx)(_,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[75,1,2]]]);
//# sourceMappingURL=main.06b416ce.chunk.js.map
(this["webpackJsonplive-streamers"]=this["webpackJsonplive-streamers"]||[]).push([[0],{19:function(e,t,a){e.exports=a(36)},25:function(e,t,a){},27:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(13),l=a.n(c),s=(a(24),a(25),a(6)),o=a.n(s),i=a(7),u=a(11),m=a(14),h=a(15),d=a(18),p=a(17),f=a(43),v=a(44),w=a(45),g=a(46),_=a(49),E=a(37),b=a(38),x=a(39),k=a(40),y=a(41),C=a(42),N=(a(27),function(e){var t=e.user_name,a=e.title,n=e.viewer_count,c=e.url,l=e.profile_image_url,s=e.changeChannel;return r.a.createElement("div",null,r.a.createElement(E.a,{className:"ml-2 mr-2 mb-1"},r.a.createElement(_.a,{onClick:function(){return s(c)}},r.a.createElement(b.a,{top:!0,width:"100%",src:l,alt:"Profile Image"}),r.a.createElement(x.a,null,r.a.createElement(k.a,null,t),r.a.createElement(y.a,null,a),r.a.createElement(C.a,null,"Viewers: ".concat(n))))))}),j=(a(30),function(e){var t=e.streamerArr,a=e.changeChannel;return r.a.createElement(f.a,{color:"dark",dark:!0,className:"fixed-top flex-md-nowrap p-0 shadow"},r.a.createElement(v.a,null,r.a.createElement(w.a,{className:"col-6"},r.a.createElement(g.a,{href:"https://dzrana.github.io/live-streamers/",className:"col-sm-3 col-md-2 mr-0"},"Live Streamers")),r.a.createElement(w.a,{className:"col-6"},r.a.createElement("div",{className:"d-xl-none dropdown"},r.a.createElement(_.a,{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Streamers"),r.a.createElement("div",{className:"dropdown-menu bg-dark sidebar streamers","aria-labelledby":"dropdownMenuButton"},r.a.createElement("ul",{className:"nav flex-column"},t.map((function(e,n){return r.a.createElement(N,{key:t[n].id,user_name:t[n].user_name,title:t[n].title,viewer_count:t[n].viewer_count,url:"https://www.twitch.tv/".concat(t[n].user_name.toLowerCase()),profile_image_url:t[n].profile_image_url,changeChannel:a})}))))))))}),O=a(47),R=(a(31),function(e){var t=e.streamerArr,a=e.changeChannel;return r.a.createElement(O.a,{className:"col-md-2 bg-dark sidebar"},r.a.createElement("div",{className:"sidebar-sticky"},r.a.createElement("ul",{className:"nav flex-column"},t.map((function(e,n){return r.a.createElement(N,{key:t[n].id,user_name:t[n].user_name,title:t[n].title,viewer_count:t[n].viewer_count,url:"https://www.twitch.tv/".concat(t[n].user_name.toLowerCase()),profile_image_url:t[n].profile_image_url,changeChannel:a})})))))}),A=a(16),z=a.n(A),B=a(48),I="4pa4htam4huynxlz1hbq15jnrs7clq",D=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).changeChannel=function(t){e.setState({currentChannel:t})},e.state={streamerArr:[],currentChannel:""},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n,r,c,l,s,m,h,d,p,f=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",a=[],n="Bearer ".concat(document.location.hash.substring(14,44)),e.prev=3,e.next=6,fetch("https://api.twitch.tv/helix/users",{headers:{Authorization:n,"Client-ID":I}});case 6:return r=e.sent,e.next=9,r.json();case 9:c=e.sent,t=c.data[0].id,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("ERROR BRO: ",e.t0);case 16:return e.prev=16,e.next=19,fetch("https://api.twitch.tv/helix/users/follows?from_id=".concat(t,"&first=100"),{headers:{Authorization:n,"Client-ID":I}});case 19:return l=e.sent,e.next=22,l.json();case 22:s=e.sent,m=Object(i.a)(s.data);try{for(m.s();!(h=m.n()).done;)d=h.value,a.push(d.to_id)}catch(v){m.e(v)}finally{m.f()}e.next=30;break;case 27:e.prev=27,e.t1=e.catch(16),console.log("ERROR BRO: ",e.t1);case 30:(p=function(){var e=Object(u.a)(o.a.mark((function e(){var t,r,c,l,s,u,m,h,d,w,g,_,E,b,x,k;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t="https://api.twitch.tv/helix/streams?user_id=",r=0;r<a.length;r++)r!==a.length-1?t+="".concat(a[r],"&user_id="):t+=a[r];return e.next=5,fetch(t,{headers:{Authorization:n,"Client-ID":I}});case 5:return c=e.sent,e.next=8,c.json();case 8:l=e.sent,s=[],u=Object(i.a)(l.data);try{for(u.s();!(m=u.n()).done;)h=m.value,(d={}).id=h.id,d.user_name=h.user_name,d.title=h.title,d.viewer_count=h.viewer_count,s.push(d)}catch(v){u.e(v)}finally{u.f()}for(t="https://api.twitch.tv/helix/users?login=",w=0;w<s.length;w++)w!==s.length-1?t+="".concat(s[w].user_name,"&login="):t+=s[w].user_name;return e.next=16,fetch(t,{headers:{Authorization:n,"Client-ID":I}});case 16:return c=e.sent,e.next=19,c.json();case 19:for(l=e.sent,g=0,_=s;g<_.length;g++){E=_[g],b=Object(i.a)(l.data);try{for(b.s();!(x=b.n()).done;)k=x.value,E.user_name.toLowerCase()===k.login&&(E.profile_image_url=k.profile_image_url)}catch(v){b.e(v)}finally{b.f()}}f.setState({streamerArr:s}),setTimeout(p,12e3),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.log("ERROR BRO: ",e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(){return e.apply(this,arguments)}}())();case 32:case"end":return e.stop()}}),e,null,[[3,13],[16,27]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.streamerArr,a=e.currentChannel;return""===document.location.hash?r.a.createElement(B.a,{className:"d-flex justify-content-center align-items-center login"},r.a.createElement("a",{href:"https://id.twitch.tv/oauth2/authorize?client_id=".concat(I,"&redirect_uri=https://dzrana.github.io/live-streamers/&response_type=token&scope=channel_feed_read")},r.a.createElement(_.a,{className:"bg-dark"},"Login"))):r.a.createElement("div",null,r.a.createElement(j,{streamerArr:t,changeChannel:this.changeChannel}),r.a.createElement(B.a,{fluid:!0},r.a.createElement(v.a,{className:"pt-5"},r.a.createElement(w.a,{className:"d-none d-xl-block "},r.a.createElement(R,{streamerArr:t,changeChannel:this.changeChannel})),r.a.createElement(w.a,null,r.a.createElement(z.a,{url:a,controls:!0,playing:!0,width:"63vw",height:"94vh"})),r.a.createElement(w.a,null,a&&r.a.createElement("iframe",{title:"chat",frameBorder:"0",scrolling:"yes",id:"chat_embed",src:"https://www.twitch.tv/embed/".concat(a.substring(22),"/chat?parent=dzrana.github.io&darkpopout"),width:"100%",height:"100%"})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.4c8969ca.chunk.js.map